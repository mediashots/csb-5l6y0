{"version":3,"sources":["Overlay.js","App.js","index.js"],"names":["Overlay","ready","clicked","setClicked","className","onClick","date","year","link1","href","link2","Carla","props","scene","useGLTF","object","VideoText","useState","Object","assign","document","createElement","src","crossOrigin","loop","video","useEffect","play","Text","font","fontSize","letterSpacing","toneMapped","attach","args","encoding","THREE","Ground","useTexture","floor","normal","Reflector","resolution","mirror","mixBlur","mixStrength","rotation","Math","PI","blur","Material","color","metalness","roughnessMap","normalMap","normalScale","Intro","start","set","vec","setTimeout","useFrame","state","camera","position","lerp","mouse","x","y","lookAt","App","setReady","store","concurrent","gl","alpha","pixelRatio","fov","fallback","scale","intensity","render","querySelector"],"mappings":"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","file":"static/js/main.1e60d2fb.chunk.js","sourcesContent":["import React from 'react'\nimport { Footer } from '@pmndrs/branding'\n\nexport default function Overlay({ ready, clicked, setClicked }) {\n  return (\n    <>\n      <div className={`fullscreen bg ${ready ? 'ready' : 'notready'} ${clicked && 'clicked'}`}>\n        <div onClick={() => ready && setClicked(true)}>{!ready ? 'loading' : 'click to continue'}</div>\n      </div>\n      <Footer\n        date=\"28. January\"\n        year=\"2021\"\n        link1={<a href=\"https://github.com/pmndrs/drei\">pmndrs/drei</a>}\n        link2={<a href=\"https://codesandbox.io/s/drei-reflector-bfplr\">s/drei-reflector-bfplr</a>}\n      />\n    </>\n  )\n}\n","import * as THREE from 'three'\nimport React, { Suspense, useEffect, useState } from 'react'\nimport { Canvas, useFrame } from '@react-three/fiber'\nimport { Reflector, Text, useTexture, useGLTF } from '@react-three/drei'\nimport Overlay from './Overlay'\n\nfunction Carla(props) {\n  const { scene } = useGLTF('/carla-draco.glb')\n  return <primitive object={scene} {...props} />\n}\n\nfunction VideoText({ clicked, ...props }) {\n  const [video] = useState(() => Object.assign(document.createElement('video'), { src: '/drei.mp4', crossOrigin: 'Anonymous', loop: true }))\n  useEffect(() => void (clicked && video.play()), [video, clicked])\n  return (\n    <Text font=\"/Inter-Bold.woff\" fontSize={3} letterSpacing={-0.06} {...props}>\n      drei\n      <meshBasicMaterial toneMapped={false}>\n        <videoTexture attach=\"map\" args={[video]} encoding={THREE.sRGBEncoding} />\n      </meshBasicMaterial>\n    </Text>\n  )\n}\n\nfunction Ground() {\n  const [floor, normal] = useTexture(['/SurfaceImperfections003_1K_var1.jpg', '/SurfaceImperfections003_1K_Normal.jpg'])\n  return (\n    <Reflector resolution={512} args={[10, 10]} mirror={0.4} mixBlur={8} mixStrength={1} rotation={[-Math.PI / 2, 0, Math.PI / 2]} blur={[400, 100]}>\n      {(Material, props) => <Material color=\"#a0a0a0\" metalness={0.4} roughnessMap={floor} normalMap={normal} normalScale={[1, 1]} {...props} />}\n    </Reflector>\n  )\n}\n\nfunction Intro({ start, set }) {\n  const [vec] = useState(() => new THREE.Vector3())\n  useEffect(() => setTimeout(() => set(true), 500), [])\n  return useFrame((state) => {\n    if (start) {\n      state.camera.position.lerp(vec.set(state.mouse.x * 5, 3 + state.mouse.y * 2, 14), 0.05)\n      state.camera.lookAt(0, 0, 0)\n    }\n  })\n}\n\nexport default function App() {\n  const [clicked, setClicked] = useState(false)\n  const [ready, setReady] = useState(false)\n  const store = { clicked, setClicked, ready, setReady }\n  return (\n    <>\n      <Canvas concurrent gl={{ alpha: false }} pixelRatio={[1, 1.5]} camera={{ position: [0, 3, 100], fov: 15 }}>\n        <color attach=\"background\" args={['black']} />\n        <fog attach=\"fog\" args={['black', 15, 20]} />\n        <Suspense fallback={null}>\n          <group position={[0, -1, 0]}>\n            <Carla rotation={[0, Math.PI - 0.4, 0]} position={[-1.2, 0, 0.6]} scale={[0.26, 0.26, 0.26]} />\n            <VideoText {...store} position={[0, 1.3, -2]} />\n            <Ground />\n          </group>\n          <ambientLight intensity={0.5} />\n          <spotLight position={[0, 10, 0]} intensity={0.3} />\n          <directionalLight position={[-20, 0, -10]} intensity={0.7} />\n          <Intro start={ready && clicked} set={setReady} />\n        </Suspense>\n      </Canvas>\n      <Overlay {...store} />\n    </>\n  )\n}\n","import { render } from 'react-dom'\nimport React from 'react'\nimport App from './App'\nimport './styles.css'\n\nrender(<App />, document.querySelector('#root'))\n"],"sourceRoot":""}